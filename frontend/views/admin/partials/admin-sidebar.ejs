<!-- Sidebar -->
<div class="bg-dark sidebar">
    <div class="sidebar-content">
        <!-- Logo -->
        <div class="sidebar-header text-center py-4">
            <h5 class="text-white mb-1">
                <i class="bi bi-shield-lock"></i> Admin
            </h5>
            <small class="text-muted">E-DUCA</small>
        </div>

        <!-- Navigation -->
        <ul class="nav flex-column">
            <li class="nav-item">
                <a class="nav-link <%= currentPage === 'dashboard' ? 'active' : '' %>" 
                   href="/admin/dashboard">
                    <i class="bi bi-speedometer2 me-2"></i>
                    Dashboard
                </a>
            </li>
            
            <li class="nav-item">
                <a class="nav-link <%= currentPage === 'usuarios' ? 'active' : '' %>" 
                   href="/admin/usuarios">
                    <i class="bi bi-people me-2"></i>
                    Usuários
                </a>
            </li>
            
            <li class="nav-item">
                <a class="nav-link <%= currentPage === 'recursos' ? 'active' : '' %>" 
                   href="/admin/recursos">
                    <i class="bi bi-book me-2"></i>
                    Recursos
                    <% if (typeof recursosPendentesCount !== 'undefined' && recursosPendentesCount > 0) { %>
                        <span class="badge bg-danger float-end"><%= recursosPendentesCount %></span>
                    <% } %>
                </a>
            </li>
            
            <li class="nav-item">
                <a class="nav-link <%= currentPage === 'noticias' ? 'active' : '' %>" 
                   href="/admin/noticias">
                    <i class="bi bi-newspaper me-2"></i>
                    Notícias
                </a>
            </li>
            
            <li class="nav-item">
                <a class="nav-link <%= currentPage === 'relatorios' ? 'active' : '' %>" 
                   href="/admin/relatorios">
                    <i class="bi bi-graph-up me-2"></i>
                    Relatórios
                </a>
            </li>
            
            <li class="nav-item">
                <a class="nav-link <%= currentPage === 'logs' ? 'active' : '' %>" 
                   href="/admin/sistema/logs">
                    <i class="bi bi-list-check me-2"></i>
                    Logs do Sistema
                </a>
            </li>
        </ul>

        <!-- User Info & Actions -->
        <div class="sidebar-footer mt-auto p-3">
            <div class="dropdown">
                <a href="#" class="d-flex align-items-center text-white text-decoration-none dropdown-toggle" 
                   data-bs-toggle="dropdown">
                    <i class="bi bi-person-circle me-2"></i>
                    <strong><%= user.email.split('@')[0] %></strong>
                </a>
                <ul class="dropdown-menu dropdown-menu-dark">
                    <li>
                        <span class="dropdown-item-text">
                            <small>Nível: <span class="badge bg-info"><%= user.nivel_acesso %></span></small>
                        </span>
                    </li>
                    <li><hr class="dropdown-divider"></li>
                    <li><a class="dropdown-item" href="/perfil"><i class="bi bi-person me-2"></i>Meu Perfil</a></li>
                    <li><a class="dropdown-item" href="/"><i class="bi bi-house me-2"></i>Site Público</a></li>
                    <li><hr class="dropdown-divider"></li>
                    <li><a class="dropdown-item text-danger" href="/auth/logout"><i class="bi bi-box-arrow-right me-2"></i>Sair</a></li>
                </ul>
            </div>
        </div>
    </div>
</div>

<style>
.sidebar {
    width: 250px;
    min-height: 100vh;
    transition: all 0.3s;
}

.sidebar-content {
    display: flex;
    flex-direction: column;
    height: 100vh;
    position: fixed;
    width: 250px;
}

.sidebar .nav-link {
    color: #adb5bd;
    padding: 0.75rem 1rem;
    border-left: 3px solid transparent;
    transition: all 0.3s;
}

.sidebar .nav-link:hover {
    color: #fff;
    background-color: #343a40;
    border-left-color: #007bff;
}

.sidebar .nav-link.active {
    color: #fff;
    background-color: #007bff;
    border-left-color: #0056b3;
}

.sidebar .nav-link i {
    width: 20px;
    text-align: center;
}
</style>